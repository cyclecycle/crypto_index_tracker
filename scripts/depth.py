import matplotlib.pyplot as plt


order_book = {'asks': [[0.088259, 0.01], [0.08826, 0.01], [0.088261, 245.69], [0.088696, 0.7], [0.0887, 302.84], [0.088767, 0.55], [0.0889, 6.78], [0.089, 20.48], [0.089206, 0.79], [0.089471, 2.15], [0.089472, 9.0], [0.089487, 1.0], [0.0895, 0.28], [0.089559, 1.0], [0.0896, 0.32], [0.089607, 0.48], [0.089702, 8.75], [0.08975, 250.0], [0.089978, 2.0], [0.089999, 83.85], [0.09, 17.28], [0.090017, 1.64], [0.0902, 1.39], [0.090209, 335.56], [0.090501, 0.9], [0.090517, 4.0], [0.0907, 1.2], [0.090702, 0.74], [0.09085, 1.0], [0.090852, 0.67], [0.0909, 2.0], [0.090923, 1.0], [0.091, 8.2], [0.091088, 20.87], [0.0911, 286.64], [0.091227, 6.46], [0.0913, 0.48], [0.0915, 10.25], [0.09161, 0.5], [0.091671, 137.1], [0.09182, 1.08], [0.092, 181.05], [0.092233, 1.0], [0.092307, 1.0], [0.0924, 1.39], [0.092499, 1.0], [0.092599, 10.0], [0.092612, 8.99], [0.092666, 76.79], [0.0935, 3.48], [0.093599, 10.0], [0.0936, 2.43], [0.093638, 1.0], [0.093713, 1.0], [0.093732, 0.63], [0.093975, 45.6], [0.094, 164.04], [0.0941, 14.28], [0.094121, 3.99], [0.094201, 0.23], [0.094301, 84.59], [0.0945, 24.98], [0.094599, 10.0], [0.0946, 0.48], [0.094801, 0.99], [0.094995, 1.63], [0.095, 8.3], [0.095138, 0.38], [0.09515, 6.08], [0.095386, 2.33], [0.095389, 38.18], [0.095423, 6.14], [0.095473, 78.59], [0.0955, 3.6], [0.095518, 0.21], [0.095599, 10.0], [0.09562, 1.29], [0.09563, 25.3], [0.095631, 32.0], [0.0957, 0.48], [0.095714, 3.5], [0.09574, 76.79], [0.0958, 10.0], [0.096, 3.69], [0.096045, 1.64], [0.0961, 0.5], [0.096171, 3.23], [0.096185, 10.4], [0.096339, 37.79], [0.096465, 1.11], [0.09647, 0.68], [0.0965, 0.22], [0.096599, 10.0], [0.096623, 0.25], [0.0968, 0.48], [0.0969, 2.49], [0.097, 13.28], [0.097585, 1.99], [0.09766, 72.6], [0.09779, 20.0]], 'datetime': '2018-01-08T09:09:22.120Z', 'timestamp': 1515402562012,
              'bids': [[0.088005, 0.49], [0.088003, 0.85], [0.088, 3.2], [0.087995, 0.57], [0.087986, 4.34], [0.0879, 0.81], [0.087817, 31.5], [0.087658, 3.56], [0.087646, 2.2], [0.087387, 7.54], [0.087202, 13.0], [0.087201, 2.38], [0.0872, 10.12], [0.087001, 3.16], [0.087, 586.78], [0.086774, 0.84], [0.086773, 326.44], [0.086772, 4.03], [0.086669, 17.96], [0.086501, 81.8], [0.086088, 2.38], [0.086001, 5.18], [0.086, 143.61], [0.0859, 14.9], [0.0856, 100.0], [0.08533, 3.96], [0.085253, 1.49], [0.085, 150.21], [0.08472, 4.02], [0.084701, 6.84], [0.084625, 1.96], [0.0846, 8.39], [0.08454, 1.6], [0.0845, 1.0], [0.08445, 177.29], [0.0844, 0.01], [0.084089, 3.88], [0.084088, 1.0], [0.084, 70.06], [0.083926, 1.0], [0.0839, 2.0], [0.0837, 2.77], [0.083511, 4.0], [0.0835, 2.83], [0.083364, 90.0], [0.0832, 2.0], [0.083016, 21.17], [0.08301, 1.0], [0.083, 6.0], [0.082961, 12.05], [0.082864, 326.44], [0.082, 64.41], [0.081989, 111.59], [0.0818, 4.79], [0.0816, 0.3], [0.0815, 29.86], [0.081331, 70.79], [0.081134, 0.99], [0.081, 17.92], [0.0809, 6.18], [0.080845, 0.78], [0.080834, 2.49], [0.080808, 0.3], [0.080777, 58.75], [0.080716, 7.96], [0.080686, 84.59], [0.0805, 1.0], [0.0802, 0.92], [0.080176, 53.39], [0.0801, 65.0], [0.080025, 49.89], [0.080021, 1.0], [0.08001, 30.52], [0.080001, 18.56], [0.08, 441.92], [0.079999, 0.33], [0.079964, 3.0], [0.079909, 196.61], [0.0797, 50.0], [0.079659, 24.6], [0.0795, 10.7], [0.079399, 16.05], [0.079346, 25.8], [0.079342, 63.0], [0.079313, 1.0], [0.079312, 4.01], [0.079125, 1.0], [0.079029, 20.0], [0.079, 3.4], [0.0788, 14.0], [0.0785, 32.6], [0.07833, 1.21], [0.078243, 50.39], [0.0781, 3.0], [0.078078, 1.0], [0.078001, 11.19], [0.078, 33.96], [0.077964, 3.0], [0.077884, 25.8], [0.0778, 23.83]]}

price = calc_market_price(order_book, 100, side='sell')
print(price)

# asks_x = [a[0] for a in order_book['asks']]
# asks_y = [a[1] for a in order_book['asks']]
# bids_x = [a[0] for a in order_book['bids']]
# bids_y = [a[1] for a in order_book['bids']]
#
# plt.scatter(asks_x, asks_y)
# plt.scatter(bids_x, bids_y)
#
# plt.show()

