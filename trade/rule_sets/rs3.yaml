vars:
  $sma_1_len: 50
  $sma_2_len: 200

observables:
- sma_1:
    func: sma
    args: [$sma_1_len]
- sma_2:
    func: sma
    args: [$sma_2_len]
- sma_1_downcross_sma_2:
    func: downcross
    args: [sma_1, sma_2]
- sma_1_upcross_sma_2:
    func: upcross
    args: [sma_1, sma_2]

actions:
  buy:
    func: buy
    args:
      with_frac: 0.1
  sell:
    func: trade
    args: [sell]

rules:
- action: buy
  conditions:
  - observable: sma_1_downcross_sma_2
    value: ['=', 1]
- action: sell
  conditions:
  - observable: sma_1_upcross_sma_2
    value: ['=', 1]